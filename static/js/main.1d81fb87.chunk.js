(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,i){e.exports=i(17)},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,function(e,t,i){},,,,,,,,function(e,t,i){"use strict";i.r(t);i(4),i(5),i(6);let s=function(e){return e.PAWN="P",e.BISHOP="B",e.KNIGHT="N",e.ROOK="R",e.QUEEN="Q",e.KING="K",e}({}),n=function(e){return e.RED="r",e.BLUE="b",e.YELLOW="y",e.GREEN="g",e}({});i(7);var o=i(0),a=i.n(o);function l(e){let{whoseTurn:t,lostTeams:i}=e;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:["playerName","team-red",t===n.RED&&"player-active",i.includes(n.RED)&&"player-lost"].filter(e=>e).join(" ")},"Player RED"),a.a.createElement("div",{className:["playerName","team-blue",t===n.BLUE&&"player-active",i.includes(n.BLUE)&&"player-lost"].filter(e=>e).join(" ")},"Player BLUE"),a.a.createElement("div",{className:["playerName","team-yellow",t===n.YELLOW&&"player-active",i.includes(n.YELLOW)&&"player-lost"].filter(e=>e).join(" ")},"Player YELLOW"),a.a.createElement("div",{className:["playerName","team-green",t===n.GREEN&&"player-active",i.includes(n.GREEN)&&"player-lost"].filter(e=>e).join(" ")},"Player GREEN"))}const r=(e,t)=>{return!!t.find(t=>t.samePosition(e))},c=(e,t,i)=>{return!!t.find(t=>t.samePosition(e)&&t.team!==i)},p=(e,t,i)=>!r(e,t)||c(e,t,i),u=(e,t)=>{const i=[],s=e.team===n.RED||e.team===n.BLUE?1:12,o=e.team===n.RED||e.team===n.BLUE?1:-1;let a=new x(-1,-1),l=new x(-1,-1),p=new x(-1,-1),u=new x(-1,-1);return e.team===n.RED||e.team===n.YELLOW?(a=new x(e.position.x,e.position.y+o),l=new x(a.x,a.y+o),p=new x(e.position.x-1,e.position.y+o),u=new x(e.position.x+1,e.position.y+o)):(a=new x(e.position.x+o,e.position.y),l=new x(a.x+o,a.y),p=new x(e.position.x+o,e.position.y-1),u=new x(e.position.x+o,e.position.y+1)),r(a,t)||(i.push(a),e.position.y!==s&&e.position.x!==s||r(l,t)||i.push(l)),c(p,t,e.team)&&i.push(p),c(u,t,e.team)&&i.push(u),i},m=(e,t)=>{const i=[];for(let s=-1;s<2;s+=2)for(let n=-1;n<2;n+=2){const o=new x(e.position.x+n,e.position.y+2*s),a=new x(e.position.x+2*s,e.position.y+n);p(o,t,e.team)&&i.push(o),p(a,t,e.team)&&i.push(a)}return i},h=(e,t)=>{const i=[];for(let s=1;s<11;s++){const n=new x(e.position.x+s,e.position.y+s);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<11;s++){const n=new x(e.position.x+s,e.position.y-s);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<11;s++){const n=new x(e.position.x-s,e.position.y-s);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<11;s++){const n=new x(e.position.x-s,e.position.y+s);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}return i},f=(e,t)=>{const i=[];for(let s=1;s<14&&!(e.position.x<3&&e.position.y+s>10)&&!(e.position.x>10&&e.position.y+s>10);s++){const n=new x(e.position.x,e.position.y+s);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<14&&!(e.position.x<3&&e.position.y-s<3)&&!(e.position.x>10&&e.position.y-s<3);s++){const n=new x(e.position.x,e.position.y-s);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<14&&!(e.position.y<3&&e.position.x-s<3)&&!(e.position.y>10&&e.position.x-s<3);s++){const n=new x(e.position.x-s,e.position.y);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<14&&!(e.position.y<3&&e.position.x+s>10)&&!(e.position.y>10&&e.position.x+s>10);s++){const n=new x(e.position.x+s,e.position.y);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}return i},w=(e,t)=>{const i=[];for(let s=1;s<14;s++){const n=new x(e.position.x,e.position.y+s);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<14;s++){const n=new x(e.position.x,e.position.y-s);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<14;s++){const n=new x(e.position.x-s,e.position.y);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<14;s++){const n=new x(e.position.x+s,e.position.y);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<11;s++){const n=new x(e.position.x+s,e.position.y+s);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<11;s++){const n=new x(e.position.x+s,e.position.y-s);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<11;s++){const n=new x(e.position.x-s,e.position.y-s);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<11;s++){const n=new x(e.position.x-s,e.position.y+s);if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}return i},E=(e,t)=>{const i=[];for(let s=1;s<2;s++){const n=new x(e.position.x,e.position.y+s);if(n.x<3&&n.y<3||n.x>10&&n.y<3||n.x>10&&n.y>10||n.x<3&&n.y>10||n.x<0||n.x>13||n.y<0||n.y>13)break;if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<2;s++){const n=new x(e.position.x,e.position.y-s);if(n.x<3&&n.y<3||n.x>10&&n.y<3||n.x>10&&n.y>10||n.x<3&&n.y>10||n.x<0||n.x>13||n.y<0||n.y>13)break;if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<2;s++){const n=new x(e.position.x-s,e.position.y);if(n.x<3&&n.y<3||n.x>10&&n.y<3||n.x>10&&n.y>10||n.x<3&&n.y>10||n.x<0||n.x>13||n.y<0||n.y>13)break;if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<2;s++){const n=new x(e.position.x+s,e.position.y);if(n.x<3&&n.y<3||n.x>10&&n.y<3||n.x>10&&n.y>10||n.x<3&&n.y>10||n.x<0||n.x>13||n.y<0||n.y>13)break;if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<2;s++){const n=new x(e.position.x+s,e.position.y+s);if(n.x<3&&n.y<3||n.x>10&&n.y<3||n.x>10&&n.y>10||n.x<3&&n.y>10||n.x<0||n.x>13||n.y<0||n.y>13)break;if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<2;s++){const n=new x(e.position.x+s,e.position.y-s);if(n.x<3&&n.y<3||n.x>10&&n.y<3||n.x>10&&n.y>10||n.x<3&&n.y>10||n.x<0||n.x>13||n.y<0||n.y>13)break;if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<2;s++){const n=new x(e.position.x-s,e.position.y-s);if(n.x<3&&n.y<3||n.x>10&&n.y<3||n.x>10&&n.y>10||n.x<3&&n.y>10||n.x<0||n.x>13||n.y<0||n.y>13)break;if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}for(let s=1;s<2;s++){const n=new x(e.position.x-s,e.position.y+s);if(n.x<3&&n.y<3||n.x>10&&n.y<3||n.x>10&&n.y>10||n.x<3&&n.y>10||n.x<0||n.x>13||n.y<0||n.y>13)break;if(r(n,t)){if(c(n,t,e.team)){i.push(n);break}break}i.push(n)}return i},y=(e,t)=>{const i=[];if(e.hasMoved)return i;const s=t.filter(t=>t.isRook&&t.team===e.team&&!t.hasMoved);for(const a of s){var o;const s=a.team===n.RED||a.team===n.YELLOW?a.position.x-e.position.x>0?1:-1:a.position.y-e.position.y>0?1:-1,l=e.position.clone();if(e.team===n.RED||e.team===n.YELLOW?l.x+=s:l.y+=s,!(null===(o=a.possibleMoves)||void 0===o?void 0:o.some(e=>e.samePosition(l))))continue;const r=e.team===n.RED||e.team===n.YELLOW?a.possibleMoves.filter(t=>t.y===e.position.y):a.possibleMoves.filter(t=>t.x===e.position.x),c=t.filter(t=>t.team!==e.team);let p=!0;for(const e of c){for(const t of e.possibleMoves)if(r.some(e=>e.samePosition(t))&&(p=!1),!p)break;if(!p)break}p&&i.push(a.position.clone())}return i};class d{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.RED,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];this.pieces=void 0,this.totalTurns=void 0,this.gameOver=!1,this.loseOrder=[],this.currentTeam=void 0,this.pieces=e,this.totalTurns=t,this.currentTeam=i,this.loseOrder=s}getNextTeam(){let e=[n.RED,n.BLUE,n.YELLOW,n.GREEN].filter(e=>!this.loseOrder.includes(e));return e[(e.indexOf(this.currentTeam)+1)%e.length]}calculateAllMoves(){for(const t of this.pieces)t.possibleMoves=this.getValidMoves(t,this.pieces);for(const t of this.pieces.filter(e=>e.isKing))t.possibleMoves=[...t.possibleMoves,...y(t,this.pieces)];this.checkCurrentTeamMoves();for(const t of this.pieces.filter(e=>e.team!==this.currentTeam))t.possibleMoves=[];if(this.pieces.filter(e=>e.team===this.currentTeam).some(e=>e.possibleMoves.length>0))return;let e=this.currentTeam;this.currentTeam=this.getNextTeam(),this.loseOrder.push(e),3===this.loseOrder.length?this.gameOver=!0:this.calculateAllMoves()}checkCurrentTeamMoves(){for(const i of this.pieces.filter(e=>e.team===this.currentTeam))for(const s of i.possibleMoves){const n=this.clone();n.pieces=n.pieces.filter(e=>!e.samePosition(s)),n.pieces.find(e=>e.samePiecePosition(i)).position=s.clone();const o=n.pieces.find(e=>e.isKing&&e.team===n.currentTeam);for(const a of n.pieces.filter(e=>e.team!==n.currentTeam)){var e,t;if(a.possibleMoves=n.getValidMoves(a,n.pieces),a.isPawn){if(a.possibleMoves.some(e=>e.x!==a.position.x&&e.samePosition(o.position)))i.possibleMoves=null===(e=i.possibleMoves)||void 0===e?void 0:e.filter(e=>!e.samePosition(s))}else if(a.possibleMoves.some(e=>e.samePosition(o.position)))i.possibleMoves=null===(t=i.possibleMoves)||void 0===t?void 0:t.filter(e=>!e.samePosition(s))}}}get isChecked(){const e=this.clone(),t=e.pieces.find(t=>t.isKing&&t.team===e.currentTeam);return e.pieces.filter(t=>t.team!==e.currentTeam).some(i=>e.getValidMoves(i,e.pieces).some(e=>e.samePosition(t.position)))}getValidMoves(e,t){switch(e.type){case s.PAWN:return u(e,t);case s.KNIGHT:return m(e,t);case s.BISHOP:return h(e,t);case s.ROOK:return f(e,t);case s.QUEEN:return w(e,t);case s.KING:return E(e,t);default:return[]}}playMove(e,t){const i=this.pieces.find(e=>e.samePosition(t));if(e.isKing&&(null===i||void 0===i?void 0:i.isRook)&&i.team===e.team){const t=i.team===n.RED||e.team===n.YELLOW?i.position.x-e.position.x>0?1:-1:i.position.y-e.position.y>0?1:-1;if(e.team===n.RED||e.team===n.YELLOW){const s=e.position.x+2*t;this.pieces=this.pieces.map(n=>(n.samePiecePosition(e)?(n.position.x=s,n.hasMoved=!0):n.samePiecePosition(i)&&(n.position.x=s-t,n.hasMoved=!0),n))}else{const s=e.position.y+2*t;this.pieces=this.pieces.map(n=>(n.samePiecePosition(e)?n.position.y=s:n.samePiecePosition(i)&&(n.position.y=s-t),n))}return this.totalTurns++,this.currentTeam=this.getNextTeam(),void this.calculateAllMoves()}this.pieces=this.pieces.reduce((i,s)=>(s.samePiecePosition(e)?(s.position.x=t.x,s.position.y=t.y,s.hasMoved=!0,i.push(s)):s.samePosition(t)||i.push(s),i),[]),this.totalTurns++,this.currentTeam=this.getNextTeam(),this.calculateAllMoves()}clone(){return new d(this.pieces.map(e=>e.clone()),this.totalTurns,this.currentTeam,this.loseOrder)}}class v{constructor(e,t,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.image=void 0,this.position=void 0,this.type=void 0,this.team=void 0,this.possibleMoves=void 0,this.hasMoved=void 0;const o="localhost"===window.location.hostname?"chessed/":"";this.image=`${o}assets/images/${i}${t}.png`,this.position=e,this.type=t,this.team=i,this.possibleMoves=n,this.hasMoved=s}get isPawn(){return this.type===s.PAWN}get isRook(){return this.type===s.ROOK}get isKing(){return this.type===s.KING}samePiecePosition(e){return this.position.samePosition(e.position)}samePosition(e){return this.position.samePosition(e)}clone(){var e;return new v(this.position.clone(),this.type,this.team,this.hasMoved,null===(e=this.possibleMoves)||void 0===e?void 0:e.map(e=>e.clone()))}}class x{constructor(e,t){this.x=void 0,this.y=void 0,this.x=e,this.y=t}samePosition(e){return this.x===e.x&&this.y===e.y}clone(){return new x(this.x,this.y)}}i(9);function b(e){let{num_i:t,num_j:i,image:s,highlight:n,teamLost:o,check:l}=e;const r=["tile",(t+i)%2===0&&"dark-tile",(t+i)%2!==0&&"light-tile",n&&"tile-highlight",s&&"chess-piece-tile",o&&"piece-dead",l&&"checked"].filter(Boolean).join(" ");return t<3&&i<3||t>10&&i<3||t>10&&i>10||t<3&&i>10?a.a.createElement("div",{className:"tile useless"}):a.a.createElement("div",{className:r},s&&a.a.createElement("div",{style:{backgroundImage:`url(${s})`},className:"chess-piece"}))}const N=[1,2,3,4,5,6,7,8,9,10,11,12,13,14],L=[1,2,3,4,5,6,7,8,9,10,11,12,13,14],P=50,O=new d([new v(new x(3,0),s.ROOK,n.RED,!1),new v(new x(4,0),s.KNIGHT,n.RED,!1),new v(new x(5,0),s.BISHOP,n.RED,!1),new v(new x(6,0),s.QUEEN,n.RED,!1),new v(new x(7,0),s.KING,n.RED,!1),new v(new x(8,0),s.BISHOP,n.RED,!1),new v(new x(9,0),s.KNIGHT,n.RED,!1),new v(new x(10,0),s.ROOK,n.RED,!1),new v(new x(3,1),s.PAWN,n.RED,!1),new v(new x(4,1),s.PAWN,n.RED,!1),new v(new x(5,1),s.PAWN,n.RED,!1),new v(new x(6,1),s.PAWN,n.RED,!1),new v(new x(7,1),s.PAWN,n.RED,!1),new v(new x(8,1),s.PAWN,n.RED,!1),new v(new x(9,1),s.PAWN,n.RED,!1),new v(new x(10,1),s.PAWN,n.RED,!1),new v(new x(3,13),s.ROOK,n.YELLOW,!1),new v(new x(4,13),s.KNIGHT,n.YELLOW,!1),new v(new x(5,13),s.BISHOP,n.YELLOW,!1),new v(new x(6,13),s.KING,n.YELLOW,!1),new v(new x(7,13),s.QUEEN,n.YELLOW,!1),new v(new x(8,13),s.BISHOP,n.YELLOW,!1),new v(new x(9,13),s.KNIGHT,n.YELLOW,!1),new v(new x(10,13),s.ROOK,n.YELLOW,!1),new v(new x(3,12),s.PAWN,n.YELLOW,!1),new v(new x(4,12),s.PAWN,n.YELLOW,!1),new v(new x(5,12),s.PAWN,n.YELLOW,!1),new v(new x(6,12),s.PAWN,n.YELLOW,!1),new v(new x(7,12),s.PAWN,n.YELLOW,!1),new v(new x(8,12),s.PAWN,n.YELLOW,!1),new v(new x(9,12),s.PAWN,n.YELLOW,!1),new v(new x(10,12),s.PAWN,n.YELLOW,!1),new v(new x(0,3),s.ROOK,n.BLUE,!1),new v(new x(0,4),s.KNIGHT,n.BLUE,!1),new v(new x(0,5),s.BISHOP,n.BLUE,!1),new v(new x(0,6),s.QUEEN,n.BLUE,!1),new v(new x(0,7),s.KING,n.BLUE,!1),new v(new x(0,8),s.BISHOP,n.BLUE,!1),new v(new x(0,9),s.KNIGHT,n.BLUE,!1),new v(new x(0,10),s.ROOK,n.BLUE,!1),new v(new x(1,3),s.PAWN,n.BLUE,!1),new v(new x(1,4),s.PAWN,n.BLUE,!1),new v(new x(1,5),s.PAWN,n.BLUE,!1),new v(new x(1,6),s.PAWN,n.BLUE,!1),new v(new x(1,7),s.PAWN,n.BLUE,!1),new v(new x(1,8),s.PAWN,n.BLUE,!1),new v(new x(1,9),s.PAWN,n.BLUE,!1),new v(new x(1,10),s.PAWN,n.BLUE,!1),new v(new x(13,3),s.ROOK,n.GREEN,!1),new v(new x(13,4),s.KNIGHT,n.GREEN,!1),new v(new x(13,5),s.BISHOP,n.GREEN,!1),new v(new x(13,6),s.KING,n.GREEN,!1),new v(new x(13,7),s.QUEEN,n.GREEN,!1),new v(new x(13,8),s.BISHOP,n.GREEN,!1),new v(new x(13,9),s.KNIGHT,n.GREEN,!1),new v(new x(13,10),s.ROOK,n.GREEN,!1),new v(new x(12,3),s.PAWN,n.GREEN,!1),new v(new x(12,4),s.PAWN,n.GREEN,!1),new v(new x(12,5),s.PAWN,n.GREEN,!1),new v(new x(12,6),s.PAWN,n.GREEN,!1),new v(new x(12,7),s.PAWN,n.GREEN,!1),new v(new x(12,8),s.PAWN,n.GREEN,!1),new v(new x(12,9),s.PAWN,n.GREEN,!1),new v(new x(12,10),s.PAWN,n.GREEN,!1)],0);function k(e){let{playMove:t,pieces:i,whoseTurn:n,loseOrder:r,isChecked:c}=e;const[p,u]=Object(o.useState)(null),[m,h]=Object(o.useState)(new x(-1,-1)),[f,w]=Object(o.useState)(!1),E=Object(o.useRef)(null);let y=[];for(let o=N.length-1;o>=0;o--)for(let e=0;e<L.length;e++){const t=e,l=o,u=i.find(t=>t.samePosition(new x(e,o)));let h=u?u.image:void 0,f=null!=p?i.find(e=>e.samePosition(m)):void 0,w=!(null===f||void 0===f||!f.possibleMoves)&&f.possibleMoves.some(t=>t.samePosition(new x(e,o)));y.push(a.a.createElement(b,{key:`${e},${o}`,num_i:t,num_j:l,image:h,highlight:w,teamLost:!!u&&r.includes(u.team),check:c&&(null===u||void 0===u?void 0:u.type)===s.KING&&(null===u||void 0===u?void 0:u.team)===n}))}return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{onMouseMove:e=>{f||function(e){const t=E.current;if(p&&t){const i=t.offsetLeft-4,s=t.offsetLeft+t.clientWidth/14*3-4,n=t.offsetTop-4,o=t.offsetTop+t.clientHeight/14*3-4,a=t.offsetLeft+t.clientWidth-46,l=t.offsetLeft-t.clientWidth/14*3+t.clientWidth-46,r=t.offsetTop+t.clientHeight-46,c=t.offsetTop-t.clientHeight/14*3+t.clientHeight-46,u=e.clientX-P/2,m=e.clientY-P/2;p.style.position="absolute",p.style.left=u<i?`${i}px`:u>a?`${a}px`:`${u}px`,p.style.top=m<n?`${n}px`:m>r?`${r}px`:`${m}px`,u<s&&m>c||u<s&&m<o?p.style.left=`${s}px`:(u>l&&m>c||u>l&&m<o)&&(p.style.left=`${l}px`)}}(e)},onMouseDown:e=>(function(e){const t=E.current,i=e.target;if(i.classList.contains("chess-piece")&&t){const s=Math.floor((e.clientX-t.offsetLeft)/P),n=Math.abs(Math.abs(Math.ceil((e.clientY-t.offsetTop-700)/P)));h(new x(s,n));const o=e.clientX-P/2,a=e.clientY-P/2;i.style.position="absolute",i.style.left=`${o}px`,i.style.top=`${a}px`,i.style.zIndex="10",u(i),w(!1),document.body.style.userSelect="none"}})(e),onClick:e=>(function(e){const t=E.current,i=e.target;if(i.classList.contains("chess-piece")&&t){const s=Math.floor((e.clientX-t.offsetLeft)/P),n=Math.abs(Math.abs(Math.ceil((e.clientY-t.offsetTop-700)/P)));h(new x(s,n)),u(i),w(!0)}})(e),onMouseUp:e=>(function(e){const s=E.current;if(p&&s){const n=Math.floor((e.clientX-s.offsetLeft)/P),o=Math.abs(Math.ceil((e.clientY-s.offsetTop-700)/P)),a=i.find(e=>e.samePosition(m));a&&(t(a.clone(),new x(n,o))||(p.style.position="static",p.style.removeProperty("top"),p.style.removeProperty("left"),p.style.removeProperty("z-index"))),u(null),document.body.style.userSelect="auto"}})(e),id:"chessboard",ref:E},y,a.a.createElement(l,{whoseTurn:n,lostTeams:r})))}function R(){const[e,t]=Object(o.useState)(O.clone()),[i,l]=Object(o.useState)(),r=Object(o.useRef)(null),c=Object(o.useRef)(null),p="localhost"===window.location.hostname?"/chessed":"";function u(s){var n;void 0!==i&&(t(t=>{const n=e.clone();return n.pieces=n.pieces.reduce((e,t)=>(t.samePiecePosition(i)?e.push(new v(t.position.clone(),s,t.team,!0)):e.push(t),e),[]),n.calculateAllMoves(),n}),null===(n=r.current)||void 0===n||n.classList.add("hidden"))}function m(){return(null===i||void 0===i?void 0:i.team)===n.RED?"r":(null===i||void 0===i?void 0:i.team)===n.BLUE?"b":(null===i||void 0===i?void 0:i.team)===n.YELLOW?"y":(null===i||void 0===i?void 0:i.team)===n.GREEN?"g":void 0}let h={[n.RED]:"Red",[n.BLUE]:"Blue",[n.YELLOW]:"Yellow",[n.GREEN]:"Green"},f=h[e.currentTeam],w=[e.currentTeam,...e.loseOrder.slice().reverse()],E=["Q","R","N","P"],y={Q:"Queen",R:"Rook",N:"Knight",P:"Pawn"};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"modal hidden",ref:r},a.a.createElement("div",{className:"modal-body"},a.a.createElement("img",{onClick:()=>u(s.ROOK),src:`${p}/assets/images/${m()}R.png`,alt:"Rook"}),a.a.createElement("img",{onClick:()=>u(s.KNIGHT),src:`${p}/assets/images/${m()}N.png`,alt:"Knight"}),a.a.createElement("img",{onClick:()=>u(s.BISHOP),src:`${p}/assets/images/${m()}B.png`,alt:"Bishop"}),a.a.createElement("img",{onClick:()=>u(s.QUEEN),src:`${p}/assets/images/${m()}Q.png`,alt:"Queen"}))),a.a.createElement("div",{className:"modal hidden",ref:c},a.a.createElement("div",{className:"modal-body"},a.a.createElement("div",{className:"checkmate-body"},a.a.createElement("span",null,"Winner: ",f,"!"),a.a.createElement("table",null,a.a.createElement("tbody",null,w.map((e,t)=>a.a.createElement("tr",{key:e,className:"team"},a.a.createElement("td",null,t+1,"."),a.a.createElement("td",null,h[e]),a.a.createElement("td",null,a.a.createElement("img",{src:`${p}/assets/images/${e}${E[t]}.png`,alt:`${h[e]} ${y[E[t]]}`})))))),a.a.createElement("button",{onClick:function(){var e;null===(e=c.current)||void 0===e||e.classList.add("hidden"),t(O.clone())}},"Play Again")))),a.a.createElement(k,{playMove:function(i,s){var o,a;return i.team===e.currentTeam&&!(null===(o=i.possibleMoves)||void 0===o||!o.some(e=>e.samePosition(s)))&&(t(e=>{const t=e.clone();var n;return t.playMove(i,s),t.gameOver&&(null===(n=c.current)||void 0===n||n.classList.remove("hidden")),t}),i.isPawn&&(i.team===n.RED&&7===s.y||i.team===n.YELLOW&&6===s.y||i.team===n.BLUE&&7===s.x||i.team===n.GREEN&&6===s.x)&&(null===(a=r.current)||void 0===a||a.classList.remove("hidden"),l(e=>{const t=i.clone();return t.position=s.clone(),t})),!0)},pieces:e.pieces,whoseTurn:e.currentTeam,loseOrder:e.loseOrder,isChecked:e.isChecked}))}O.calculateAllMoves();var g=function(){return a.a.createElement("div",{id:"app"},a.a.createElement(R,null))},W=i(2);i.n(W).a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)))}],[[3,1,2]]]);
//# sourceMappingURL=main.1d81fb87.chunk.js.map